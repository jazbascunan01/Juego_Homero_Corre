/* ================================================================
  ||   Eliminamos márgenes y ponemos fondo de página negro        ||
   ================================================================ */
html,
body {
    margin: 0;
    background: none;
    image-rendering: pixelated;
    display: flex;
    justify-content: center;
    align-items: center;
}

body {
    height: 100vh;
    background: url("images/il_fullxfull.3509413948_lwoo-Photoroom.png") no-repeat;
    background-size: 100% auto;
}

/* ================================================================
  ||                  CONTENEDORES GENERALES                      ||
   ================================================================ */
.contenedor {
    overflow: hidden;
}

.container {
    width: 1300px;
    height: 90%;
    position: relative;
    /* Para mantener las posiciones relativas dentro del container */
    overflow: hidden;
    /* Evitar que los elementos se salgan del contenedor */

}

/* ================================================================
  ||                      BARRA DE VIDAS                          ||
   ================================================================ */
#vidas {
    background: url("images/barras\ de\ estado_lleno.png")no-repeat;
    width: 14%;
    height: 50px;
    background-size: contain;
    position: absolute;
    top: 10px;
    left: 26px;
}

/* ================================================================
  ||         HOMERO SIMPSON: ANIMACIÓN DEL PERSONAJE              ||
   ================================================================ */
#personaje {
    /* Tamaño fijo del área del sprite */
    width: 53.5px;
    /* Ancho exacto de cada fotograma */
    height: 100px;
    /* Altura del sprite según la imagen */

    margin: auto;
    background: url("images/homero\ caminando3.png") no-repeat;
    position: relative;
    bottom: -39%;
}

/* ================================================================
  ||                     ANIMACIONES CLAVE                        ||
   ================================================================ */
@keyframes caminarSelma {
    from {
        background-position: 0 0;
    }

    to {
        background-position: -48.5px 0;
    }
}

@keyframes walk {
    from {
        background-position: 0 0;
    }

    to {
        background-position: -280px 0;
    }

    /* 5 fotogramas * 59px = -294px */
}

/* ================================================================
  ||          FONDO DEL JUEGO: CIELO, NUBES, VEREDA               ||
   ================================================================ */
#sky {
    background: url("images/Mesa\ de\ trabajo\ cielo.png") repeat-x;
    background-size: 1527px 100%;
    /* Cubrir el área completa */
    animation: movebg 30s linear infinite;
    position: relative;
    /* Asegura que esté detrás de todo */
    top: 0;
    left: 0;
    width: 100%;
    height: 500px;
    z-index: -20;
    /* Detrás de todo */
    overflow: hidden;
    /* Para evitar que algo sobresalga */
}

/* Nueva capa para las nubes más opacas */
#clouds {
    background: url("images/Mesa\ de\ trabajo\ nubes.png") repeat-x;
    background-size: 1527px 100%;
    animation: moveClouds 25s linear infinite;
    /* Velocidad más rápida */
    position: absolute;
    /* Posicionarlo sobre el fondo de cielo */
    top: 0;
    left: 0;
    width: 100%;
    height: 500px;
    z-index: -19;
    /* Un índice justo encima del cielo pero debajo de otros elementos */
    pointer-events: none;
    /* No permitir interacciones de ratón */
}

/* ================================================================
  ||           MOVIMIENTO DEL FONDO Y ELEMENTOS                   ||
   ================================================================ */
@keyframes moveClouds {
    0% {
        background-position: 0px;
    }

    100% {
        background-position: -1527px;
    }
}

/* ================================================================
  ||                   FONDO LEJANO Y VEREDA                      ||
   ================================================================ */
#vereda {
    background: url("images/Recurso\ vereda.png") repeat-x;
    background-size: 1527px 100%;
    animation: movebgVereda 10s linear infinite;
    position: relative;
    top: -806px;
    height: 288px;
    z-index: 2;
}

#fondoLejano {
    background: url("images/canvas_image\ \(6\).png") repeat-x;
    background-size: 1289px auto;
    animation: movebgLejano 27s linear infinite;
    position: relative;
    top: -397px;
    height: 289.5px;
    z-index: -10;
    opacity: 70%;
}

/* Asegurarse de que el fondo cubra el container */
#sky,
#fondoLejano,
#montania,
#vereda {
    width: 100%;
    /* Se ajusta al ancho del container */
}


#montania {
    background: url("images/PineTools.com_Recurso\ mon.png") repeat-x;
    background-size: auto 100%;
    animation: movebgMountain 15s linear infinite;
    position: relative;
    top: -727px;
    /* background-color: #258b69; */
    height: 288px;
    z-index: 1;
}

/* Animación del fondo lejano, más lento para dar profundidad */
/* Animación del fondo lejano */
@keyframes movebgLejano {
    0% {
        background-position: 0px;
    }

    100% {
        background-position: -1289px;
        /* Ajusta según el nuevo tamaño (1289 * 1.5 = 1933.5px) */
    }
}

@keyframes movebgMountain {
    0% {
        background-position: 0px;
    }

    100% {
        background-position: -1592px;
        /* Ajusta según el tamaño de la imagen */
    }
}

@keyframes movebgVereda {
    0% {
        background-position: 0px;
        /* Ajustar también para el mar */
    }

    100% {
        background-position: -1527px;
    }
}

/* Animación para mover cielo*/
@keyframes movebg {
    0% {
        background-position: 1527px
    }

    100% {
        background-position: 0
    }
}

/* ================================================================
  ||               CORRER, SALTAR Y CAER                          ||
   ================================================================ */
.correr {
    animation: correr 0.6s steps(5) infinite;
}

#personaje.saltar {
    background: url("images/salto23.png") no-repeat;
    background-size: cover 100%;
    width: 65px !important;
    height: 95px !important;
    animation: saltarMovimiento 600ms cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards, saltarFotogramas 600ms steps(4) infinite;
}


@keyframes saltarMovimiento {
    from {
        bottom: -39%;
        /* Posición inicial */
    }

    to {
        bottom: 0%;
        /* Altura del salto */
    }
}

@keyframes saltarFotogramas {
    from {
        background-position: 0 0;
    }

    to {
        background-position: -275px 0;
        /* 6 fotogramas, 53.5px cada uno */
    }
}

.caer {
    background: url("images/homero\ caminando3.png") !important;
    animation: caer 500ms cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
}

@keyframes gbwalk {
    0% {
        background-position: 0
    }

    100% {
        background-position: -624px
    }
}

@keyframes saltar {
    from {
        bottom: -39%;
        /* Posición inicial */
    }

    to {
        bottom: 0%;
        /* Altura del salto */
    }
}

@keyframes caer {
    from {
        bottom: 0%;
        /* Desde el punto más alto */
    }

    to {
        bottom: -39%;
        /* De vuelta al suelo */
    }
}

@keyframes correr {
    from {
        background-position: 0 0;
    }

    to {
        background-position: -280px 0;
    }

    /* 5 fotogramas * 59px = -294px */
}

/* ================================================================
  ||                        ENEMIGO                               ||
   ================================================================ */
.enemigo {
    position: absolute;
    width: 48.4px;
    height: 76px;
    background: url(images/selma_enemigo1.png) no-repeat;
    z-index: 30;
    top: 400px;
    border-radius: 5%;
    animation: enemigo 10s linear infinite, caminarSelma 1s steps(5) infinite;
}

@keyframes caminarSelma {
    from {
        background-position: 0 0;
    }

    to {
        background-position: -242px 0;
        /* tamaño de la imagen completa de spritesheets */
    }
}

@keyframes enemigo {
    from {
        left: 100%;
    }

    to {
        left: -100%;
    }
}

/* ================================================================
  ||          CARTEL DE "PERDISTE AL FINAL DEL JUEGO"             ||
   ================================================================ */
#cartel-perdiste {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.8);
    /* Fondo oscuro transparente */
    color: #fff;
    /* Texto blanco */
    z-index: 100;
    /* Para que quede encima de todo */
    font-family: 'Comic Sans MS', cursive, sans-serif;
    text-align: center;
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.5s ease-in-out;
}

#cartel-perdiste.visible {
    opacity: 1;
    visibility: visible;
}

#cartel-perdiste h1 {
    font-size: 3rem;
    margin-bottom: 20px;
}

#cartel-perdiste p {
    font-size: 1.5rem;
    margin-bottom: 20px;
}

#btn-reiniciar {
    padding: 10px 20px;
    font-size: 1.2rem;
    background-color: #ffcc00;
    border: none;
    cursor: pointer;
    border-radius: 5px;
}

#btn-reiniciar:hover {
    background-color: #ffa500;
}

/* ================================================================
  ||          ELEMENTOS PAUSADOS, PARPADEO Y LA DONA              ||
   ================================================================ */
.pausado * {
    animation-play-state: paused !important;
}


.parpadeo {
    animation: parpadeo 0.2s infinite;
}

@keyframes parpadeo {
    0% {
        opacity: 1;
    }

    50% {
        opacity: 0;
    }

    100% {
        opacity: 1;
    }
}

.dona {
    width: 30px;
    height: 30px;
    background-image: url('images/dona.png');
    background-size: contain;
    position: absolute;
    animation: rotate 4s linear infinite;
    z-index: 10;
}

@keyframes rotate {
    from {
        transform: rotate(0deg);
    }

    to {
        transform: rotate(-360deg);
    }
}